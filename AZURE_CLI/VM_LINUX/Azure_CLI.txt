
Azure with CLI

rgName="testdemo"
location="EastUS"
vmName="testdemolinux"
imageName="UbuntuLTS"
adminUser="azureuser"
publicIpSku="Standard"

az login

az group create --name $rgname --location $location

az vm create --resource-group $rgName --name $vmName --image $imageName --admin-username $adminUser --generate-ssh-keys --public-ip-sku $publicIpSku

az vm run-command invoke --resource-group $rgName --name $vmName --command-id RunShellScript --scripts "sudo apt-get update && sudo apt-get install -y nginx"

az vm open-port --resource-group $rgName --name $vmName --port 80 

az group delete --name $rgName --no-wait --yes --verbose

cls

exit




